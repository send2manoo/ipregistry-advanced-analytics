!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ipregistry=e():t.ipregistry=e()}(self,(()=>{return t={573:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoCache=e.InMemoryCache=void 0;var r=i(593),n=function(){function t(t,e){void 0===t&&(t="undefined"!=typeof window?16:2048),void 0===e&&(e=6e5),this.maximumSize=t,this.expireAfter=e;var i={max:t,ttl:e};this.cache=new r(i)}return t.prototype.get=function(t){return this.cache.get(t)},t.prototype.invalidate=function(t){this.cache.delete(t)},t.prototype.invalidateAll=function(){this.cache.clear()},t.prototype.put=function(t,e){this.cache.set(t,e)},t}();e.InMemoryCache=n;var s=function(){function t(){}return t.prototype.get=function(t){},t.prototype.invalidate=function(t){},t.prototype.invalidateAll=function(){},t.prototype.put=function(t,e){},t}();e.NoCache=s},577:function(t,e){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.isApiError=e.isError=e.ErrorCode=e.LookupError=e.ClientError=e.ApiError=e.IpregistryError=void 0;var n=function(t){function e(e){var i=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,i.prototype),r}return r(e,t),e}(Error);e.IpregistryError=n;var s=function(t){function e(e,i,r){var n=this.constructor,s=t.call(this,i)||this;return s.code=e,s.message=i,s.resolution=r,Object.setPrototypeOf(s,n.prototype),s}return r(e,t),e}(n);e.ApiError=s;var o=function(t){function e(e){var i=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,i.prototype),r}return r(e,t),e}(n);e.ClientError=o;var a,u=function(t){function e(e,i,r){return t.call(this,e,i,r)||this}return r(e,t),e}(s);function c(t){return t&&"message"in t}e.LookupError=u,(a=e.ErrorCode||(e.ErrorCode={})).BAD_REQUEST="BAD_REQUEST",a.DISABLED_API_KEY="DISABLED_API_KEY",a.FORBIDDEN_IP="FORBIDDEN_IP",a.FORBIDDEN_ORIGIN="FORBIDDEN_ORIGIN",a.FORBIDDEN_IP_ORIGIN="FORBIDDEN_IP_ORIGIN",a.INTERNAL="INTERNAL",a.INSUFFICIENT_CREDITS="INSUFFICIENT_CREDITS",a.INVALID_API_KEY="INVALID_API_KEY",a.INVALID_FILTER_SYNTAX="INVALID_FILTER_SYNTAX",a.INVALID_IP_ADDRESS="INVALID_IP_ADDRESS",a.MISSING_API_KEY="MISSING_API_KEY",a.RESERVED_IP_ADDRESS="RESERVED_IP_ADDRESS",a.TOO_MANY_IPS="TOO_MANY_IPS",a.TOO_MANY_REQUESTS="TOO_MANY_REQUESTS",a.TOO_MANY_USER_AGENTS="TOO_MANY_USER_AGENTS",e.isError=c,e.isApiError=function(t){return c(t)&&"code"in t}},590:function(t,e,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||r(e,t,i)},s=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var i,r,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.UserAgent=e.IpregistryClient=e.IpregistryConfigBuilder=e.IpregistryConfig=void 0;var a=i(486),u=i(573),c=i(577),l=function(t,e,i){this.baseUrl="https://api.ipregistry.co",this.timeout=15e3,this.apiKey=t,e&&(this.baseUrl=e),i&&(this.timeout=i)};e.IpregistryConfig=l;var h=function(){function t(t){this.baseUrl="https://api.ipregistry.co",this.timeout=15e3,this.apiKey=t}return t.prototype.withApiUrl=function(t){return this.baseUrl=t,this},t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withTimeout=function(t){return this.timeout=t,this},t.prototype.build=function(){return new l(this.apiKey,this.baseUrl,this.timeout)},t}();e.IpregistryConfigBuilder=h;var f=function(){function t(t,e,i){this.config="string"==typeof t?new h(t).build():t||new h("tryout").build(),this.cache=e||new u.NoCache,this.requestHandler=i||new a.DefaultRequestHandler(this.config)}return t.prototype.batchLookup=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return s(this,void 0,void 0,(function(){var r,n,s,a,u,l,h,f,p,d,g,y,m,v,w,b;return o(this,(function(o){switch(o.label){case 0:for(r=new Array(e.length),n=[],s=0;s<e.length;s++)a=e[s],u=t.buildCacheKey(a,i),(l=this.cache.get(u))?r[s]=l:n.push(a);return h=new Array(e.length),n.length>0?[4,this.requestHandler.batchLookup(n,i)]:[3,2];case 1:return f=o.sent(),p=f.data,[3,3];case 2:f=null,p=[],o.label=3;case 3:for(d=0,g=0,y=0,m=r;y<m.length;y++)(v=m[y])?h[d]=v:((0,c.isApiError)(p[g])?(w=p[g],h[d]=new c.LookupError(w.code,w.message,w.resolution)):(b=p[g],this.cache.put(t.buildCacheKey(b.ip,i),b),h[d]=p[g]),g++),d++;return[2,{credits:f?f.credits:{consumed:0,remaining:null},data:h,throttling:f?f.throttling:null}]}}))}))},t.prototype.lookup=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return s(this,void 0,void 0,(function(){var r,n,s;return o(this,(function(o){switch(o.label){case 0:return r=t.buildCacheKey(e,i),(n=this.cache.get(r))?[3,2]:[4,this.requestHandler.lookup(e,i)];case 1:return s=o.sent(),this.cache.put(r,s.data),[3,3];case 2:s={credits:{consumed:0,remaining:null},data:n,throttling:null},o.label=3;case 3:return[2,s]}}))}))},t.prototype.originLookup=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return s(this,void 0,void 0,(function(){var i,r,n;return o(this,(function(s){switch(s.label){case 0:return i=t.buildCacheKey("",e),(r=this.cache.get(i))?[3,2]:[4,this.requestHandler.originLookup(e)];case 1:return n=s.sent(),this.cache.put(i,n.data),[3,3];case 2:n={credits:{consumed:0,remaining:null},data:r,throttling:null},s.label=3;case 3:return[2,n]}}))}))},t.prototype.parse=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this.requestHandler.parse(t)]}))}))},t.prototype.getCache=function(){return this.cache},t.buildCacheKey=function(t,e){var i=t||"";if(e)for(var r=0,n=e;r<n.length;r++){var s=n[r];i+=";".concat(s.name,"=").concat(s.value)}return i},t}();e.IpregistryClient=f,n(i(573),e),n(i(577),e),n(i(704),e),n(i(944),e),n(i(486),e);var p=i(128);Object.defineProperty(e,"UserAgent",{enumerable:!0,get:function(){return p.UserAgent}})},704:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},944:function(t,e){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.IpregistryOptions=e.HostnameOption=e.FilterOption=e.IpregistryOption=void 0;var n=function(t,e){this.name=t,this.value=e};e.IpregistryOption=n;var s=function(t){function e(e){return t.call(this,"fields",e)||this}return r(e,t),e}(n);e.FilterOption=s;var o=function(t){function e(e){return t.call(this,"hostname",String(e))||this}return r(e,t),e}(n);e.HostnameOption=o;var a=function(){function t(){}return t.filter=function(t){return new s(t)},t.hostname=function(t){return new o(t)},t.from=function(t,e){return new n(t,e)},t}();e.IpregistryOptions=a},486:function(t,e,i){"use strict";var r=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var i,r,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultRequestHandler=void 0;var s=i(669),o=i(577),a=function(){function t(t){this.config=t}return t.prototype.batchLookup=function(t,e){return r(this,void 0,void 0,(function(){var i,r,a;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,s.default.post(this.buildApiUrl("",e),JSON.stringify(t),this.getAxiosConfig())];case 1:return i=n.sent(),[2,{credits:{consumed:this.getConsumedCredits(i),remaining:this.getRemainingCredits(i)},data:i.data.results,throttling:this.getThrottlingData(i)}];case 2:if((r=n.sent()).isAxiosError&&r.response)throw a=r.response.data,new o.ApiError(a.code,a.message,a.resolution);throw new o.ClientError(r.message);case 3:return[2]}}))}))},t.prototype.lookup=function(t,e){return r(this,void 0,void 0,(function(){var i,r,a;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,s.default.get(this.buildApiUrl(t,e),this.getAxiosConfig())];case 1:return i=n.sent(),[2,{credits:{consumed:this.getConsumedCredits(i),remaining:this.getRemainingCredits(i)},data:i.data,throttling:this.getThrottlingData(i)}];case 2:if((r=n.sent()).isAxiosError&&r.response)throw a=r.response.data,new o.ApiError(a.code,a.message,a.resolution);throw new o.ClientError(r.message);case 3:return[2]}}))}))},t.prototype.originLookup=function(t){return r(this,void 0,void 0,(function(){var e,i,r;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,s.default.get(this.buildApiUrl("",t),this.getAxiosConfig())];case 1:return e=n.sent(),[2,{credits:{consumed:this.getConsumedCredits(e),remaining:this.getRemainingCredits(e)},data:e.data,throttling:this.getThrottlingData(e)}];case 2:if((i=n.sent()).isAxiosError&&i.response)throw r=i.response.data,new o.ApiError(r.code,r.message,r.resolution);throw new o.ClientError(i.message);case 3:return[2]}}))}))},t.prototype.parse=function(t){return r(this,void 0,void 0,(function(){var e,i,r;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,s.default.post(this.buildApiUrl("user_agent"),t,this.getAxiosConfig())];case 1:return e=n.sent(),[2,{credits:{consumed:this.getConsumedCredits(e),remaining:this.getRemainingCredits(e)},data:e.data.results,throttling:this.getThrottlingData(e)}];case 2:if((i=n.sent()).isAxiosError&&i.response)throw r=i.response.data,new o.ApiError(r.code,r.message,r.resolution);throw new o.ClientError(i.message);case 3:return[2]}}))}))},t.prototype.getAxiosConfig=function(){var e={authorization:"ApiKey ".concat(this.config.apiKey),"content-type":"application/json"};try{void 0===window&&(e["user-agent"]=t.USER_AGENT)}catch(t){}return{headers:e,timeout:this.config.timeout}},t.prototype.getConsumedCredits=function(e){return t.parseInt(e.headers["ipregistry-credits-consumed"])},t.prototype.getRemainingCredits=function(e){return t.parseInt(e.headers["ipregistry-credits-remaining"])},t.prototype.getThrottlingData=function(e){var i=e.headers["x-rate-limit-limit"];return i?{limit:t.parseInt(i),remaining:t.parseInt(e.headers["x-rate-limit-remaining"]),reset:t.parseInt(e.headers["x-rate-limit-reset"])}:null},t.parseInt=function(t){var e=parseInt(t);return isNaN(e)?null:e},t.prototype.buildApiUrl=function(t,e){var i="".concat(this.config.baseUrl,"/").concat(t||"");if(e)for(var r="?",n=0,s=e;n<s.length;n++){var o=s[n];i+="".concat(r).concat(o.name,"=").concat(encodeURIComponent(o.value)),r="&"}return i},t.USER_AGENT="Ipregistry/JavaScript/3.0.0",t}();e.DefaultRequestHandler=a},128:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserAgent=void 0;var i=function(){function t(){}return t.isBot=function(t){var e=t.toLowerCase();return e.includes("bot")||e.includes("spider")||e.includes("slurp")},t}();e.UserAgent=i},669:(t,e,i)=>{t.exports=i(609)},448:(t,e,i)=>{"use strict";var r=i(867),n=i(26),s=i(372),o=i(327),a=i(97),u=i(109),c=i(985),l=i(61),h=i(874),f=i(263);t.exports=function(t){return new Promise((function(e,i){var p,d=t.data,g=t.headers,y=t.responseType;function m(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}r.isFormData(d)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+b)}var x=a(t.baseURL,t.url);function S(){if(v){var r="getAllResponseHeaders"in v?u(v.getAllResponseHeaders()):null,s={data:y&&"text"!==y&&"json"!==y?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:t,request:v};n((function(t){e(t),m()}),(function(t){i(t),m()}),s),v=null}}if(v.open(t.method.toUpperCase(),o(x,t.params,t.paramsSerializer),!0),v.timeout=t.timeout,"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(S)},v.onabort=function(){v&&(i(l("Request aborted",t,"ECONNABORTED",v)),v=null)},v.onerror=function(){i(l("Network Error",t,null,v)),v=null},v.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||h;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(l(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var E=(t.withCredentials||c(x))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;E&&(g[t.xsrfHeaderName]=E)}"setRequestHeader"in v&&r.forEach(g,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete g[e]:v.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),y&&"json"!==y&&(v.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&v.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){v&&(i(!t||t&&t.type?new f("canceled"):t),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),d||(d=null),v.send(d)}))}},609:(t,e,i)=>{"use strict";var r=i(867),n=i(849),s=i(321),o=i(185),a=function t(e){var i=new s(e),a=n(s.prototype.request,i);return r.extend(a,s.prototype,i),r.extend(a,i),a.create=function(i){return t(o(e,i))},a}(i(546));a.Axios=s,a.Cancel=i(263),a.CancelToken=i(972),a.isCancel=i(502),a.VERSION=i(288).version,a.all=function(t){return Promise.all(t)},a.spread=i(713),a.isAxiosError=i(268),t.exports=a,t.exports.default=a},263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},972:(t,e,i)=>{"use strict";var r=i(263);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;this.promise.then((function(t){if(i._listeners){var e,r=i._listeners.length;for(e=0;e<r;e++)i._listeners[e](t);i._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){i.subscribe(t),e=t})).then(t);return r.cancel=function(){i.unsubscribe(e)},r},t((function(t){i.reason||(i.reason=new r(t),e(i.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},n.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n},502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,i)=>{"use strict";var r=i(867),n=i(327),s=i(782),o=i(572),a=i(185),u=i(875),c=u.validators;function l(t){this.defaults=t,this.interceptors={request:new s,response:new s}}l.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var i=e.transitional;void 0!==i&&u.assertOptions(i,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)})),!n){var h=[o,void 0];for(Array.prototype.unshift.apply(h,r),h=h.concat(l),s=Promise.resolve(e);h.length;)s=s.then(h.shift(),h.shift());return s}for(var f=e;r.length;){var p=r.shift(),d=r.shift();try{f=p(f)}catch(t){d(t);break}}try{s=o(f)}catch(t){return Promise.reject(t)}for(;l.length;)s=s.then(l.shift(),l.shift());return s},l.prototype.getUri=function(t){return t=a(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,i){return this.request(a(i||{},{method:t,url:e,data:(i||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,i,r){return this.request(a(r||{},{method:t,url:e,data:i}))}})),t.exports=l},782:(t,e,i)=>{"use strict";var r=i(867);function n(){this.handlers=[]}n.prototype.use=function(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},97:(t,e,i)=>{"use strict";var r=i(793),n=i(303);t.exports=function(t,e){return t&&!r(e)?n(t,e):e}},61:(t,e,i)=>{"use strict";var r=i(481);t.exports=function(t,e,i,n,s){var o=new Error(t);return r(o,e,i,n,s)}},572:(t,e,i)=>{"use strict";var r=i(867),n=i(527),s=i(502),o=i(546),a=i(263);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a("canceled")}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=n.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return u(t),e.data=n.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(u(t),e&&e.response&&(e.response.data=n.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,i,r,n){return t.config=e,i&&(t.code=i),t.request=r,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},185:(t,e,i)=>{"use strict";var r=i(867);t.exports=function(t,e){e=e||{};var i={};function n(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function s(i){return r.isUndefined(e[i])?r.isUndefined(t[i])?void 0:n(void 0,t[i]):n(t[i],e[i])}function o(t){if(!r.isUndefined(e[t]))return n(void 0,e[t])}function a(i){return r.isUndefined(e[i])?r.isUndefined(t[i])?void 0:n(void 0,t[i]):n(void 0,e[i])}function u(i){return i in e?n(t[i],e[i]):i in t?n(void 0,t[i]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||s,n=e(t);r.isUndefined(n)&&e!==u||(i[t]=n)})),i}},26:(t,e,i)=>{"use strict";var r=i(61);t.exports=function(t,e,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?e(r("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},527:(t,e,i)=>{"use strict";var r=i(867),n=i(546);t.exports=function(t,e,i){var s=this||n;return r.forEach(i,(function(i){t=i.call(s,t,e)})),t}},546:(t,e,i)=>{"use strict";var r=i(867),n=i(16),s=i(481),o=i(874),a={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,l={transitional:o,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=i(448)),c),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,i){if(r.isString(t))try{return(0,JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,i=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,o=!i&&"json"===this.responseType;if(o||n&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw s(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){l.headers[t]=r.merge(a)})),t.exports=l},874:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},288:t=>{t.exports={version:"0.26.1"}},849:t=>{"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return t.apply(e,i)}}},327:(t,e,i)=>{"use strict";var r=i(867);function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var s;if(i)s=i(e);else if(r.isURLSearchParams(e))s=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},372:(t,e,i)=>{"use strict";var r=i(867);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,i,n,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),r.isString(n)&&a.push("path="+n),r.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},268:(t,e,i)=>{"use strict";var r=i(867);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},985:(t,e,i)=>{"use strict";var r=i(867);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var r=t;return e&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=r.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},16:(t,e,i)=>{"use strict";var r=i(867);t.exports=function(t,e){r.forEach(t,(function(i,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[r])}))}},109:(t,e,i)=>{"use strict";var r=i(867),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,s,o={};return t?(r.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=r.trim(t.substr(0,s)).toLowerCase(),i=r.trim(t.substr(s+1)),e){if(o[e]&&n.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}})),o):o}},713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},875:(t,e,i)=>{"use strict";var r=i(288).version,n={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){n[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));var s={};n.transitional=function(t,e,i){function n(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return function(i,r,o){if(!1===t)throw new Error(n(r," has been removed"+(e?" in "+e:"")));return e&&!s[r]&&(s[r]=!0,console.warn(n(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,r,o)}},t.exports={assertOptions:function(t,e,i){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),n=r.length;n-- >0;){var s=r[n],o=e[s];if(o){var a=t[s],u=void 0===a||o(a,s,t);if(!0!==u)throw new TypeError("option "+s+" must be "+u)}else if(!0!==i)throw Error("Unknown option "+s)}},validators:n}},867:(t,e,i)=>{"use strict";var r=i(849),n=Object.prototype.toString;function s(t){return Array.isArray(t)}function o(t){return void 0===t}function a(t){return"[object ArrayBuffer]"===n.call(t)}function u(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==n.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===n.call(t)}function h(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:s,isArrayBuffer:a,isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===n.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&a(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isPlainObject:c,isUndefined:o,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:l,isStream:function(t){return u(t)&&l(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===n.call(t)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function t(){var e={};function i(i,r){c(e[r])&&c(i)?e[r]=t(e[r],i):c(i)?e[r]=t({},i):s(i)?e[r]=i.slice():e[r]=i}for(var r=0,n=arguments.length;r<n;r++)h(arguments[r],i);return e},extend:function(t,e,i){return h(e,(function(e,n){t[n]=i&&"function"==typeof e?r(e,i):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},593:t=>{const e="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,i="undefined"!=typeof AbortController?AbortController:Object.assign(class{constructor(){this.signal=new i.AbortSignal}abort(){this.signal.aborted=!0}},{AbortSignal:class{constructor(){this.aborted=!1}}}),r=new Set,n=(t,e)=>{const i=`LRU_CACHE_OPTION_${t}`;a(i)&&u(i,`${t} option`,`options.${e}`,p)},s=(t,e)=>{const i=`LRU_CACHE_METHOD_${t}`;if(a(i)){const{prototype:r}=p,{get:n}=Object.getOwnPropertyDescriptor(r,t);u(i,`${t} method`,`cache.${e}()`,n)}},o=(...t)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...t):console.error(...t)},a=t=>!r.has(t),u=(t,e,i,n)=>{r.add(t),o(`The ${e} is deprecated. Please use ${i} instead.`,"DeprecationWarning",t,n)},c=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),l=t=>c(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?h:null:null;class h extends Array{constructor(t){super(t),this.fill(0)}}class f{constructor(t){if(0===t)return[];const e=l(t);this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class p{constructor(t={}){const{max:e=0,ttl:i,ttlResolution:s=1,ttlAutopurge:u,updateAgeOnGet:h,updateAgeOnHas:d,allowStale:g,dispose:y,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:w,maxSize:b=0,sizeCalculation:x,fetchMethod:S}=t,{length:E,maxAge:A,stale:_}=t instanceof p?{}:t;if(0!==e&&!c(e))throw new TypeError("max option must be a nonnegative integer");const O=e?l(e):Array;if(!O)throw new Error("invalid max value: "+e);if(this.max=e,this.maxSize=b,this.sizeCalculation=x||E,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=S||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.keyMap=new Map,this.keyList=new Array(e).fill(null),this.valList=new Array(e).fill(null),this.next=new O(e),this.prev=new O(e),this.head=0,this.tail=0,this.free=new f(e),this.initialFill=1,this.size=0,"function"==typeof y&&(this.dispose=y),"function"==typeof m?(this.disposeAfter=m,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!w,0!==this.maxSize){if(!c(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!g||!!_,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!d,this.ttlResolution=c(s)||0===s?s:1,this.ttlAutopurge=!!u,this.ttl=i||A||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const t="LRU_CACHE_UNBOUNDED";a(t)&&(r.add(t),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,p))}_&&n("stale","allowStale"),A&&n("maxAge","ttl"),E&&n("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new h(this.max),this.starts=new h(this.max),this.setItemTTL=(t,i)=>{if(this.starts[t]=0!==i?e.now():0,this.ttls[t]=i,0!==i&&this.ttlAutopurge){const e=setTimeout((()=>{this.isStale(t)&&this.delete(this.keyList[t])}),i+1);e.unref&&e.unref()}},this.updateItemAge=t=>{this.starts[t]=0!==this.ttls[t]?e.now():0};let t=0;const i=()=>{const i=e.now();if(this.ttlResolution>0){t=i;const e=setTimeout((()=>t=0),this.ttlResolution);e.unref&&e.unref()}return i};this.getRemainingTTL=e=>{const r=this.keyMap.get(e);return void 0===r?0:0===this.ttls[r]||0===this.starts[r]?1/0:this.starts[r]+this.ttls[r]-(t||i())},this.isStale=e=>0!==this.ttls[e]&&0!==this.starts[e]&&(t||i())-this.starts[e]>this.ttls[e]}updateItemAge(t){}setItemTTL(t,e){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new h(this.max),this.removeItemSize=t=>this.calculatedSize-=this.sizes[t],this.requireSize=(t,e,i,r)=>{if(!c(i)){if(!r)throw new TypeError("invalid size value (must be positive integer)");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(i=r(e,t),!c(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.addItemSize=(t,e,i,r)=>{this.sizes[t]=r;const n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]},this.delete=t=>{if(0!==this.size){const e=this.keyMap.get(t);void 0!==e&&(this.calculatedSize-=this.sizes[e])}return p.prototype.delete.call(this,t)}}removeItemSize(t){}addItemSize(t,e,i,r){}requireSize(t,e,i,r){if(i||r)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.tail;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.head);)e=this.prev[e]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.head;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.tail);)e=this.next[e]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(const t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(const t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(const t of this.indexes())yield this.keyList[t]}*rkeys(){for(const t of this.rindexes())yield this.keyList[t]}*values(){for(const t of this.indexes())yield this.valList[t]}*rvalues(){for(const t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const i of this.indexes())if(t(this.valList[i],this.keyList[i],this))return this.get(this.keyList[i],e)}forEach(t,e=this){for(const i of this.indexes())t.call(e,this.valList[i],this.keyList[i],this)}rforEach(t,e=this){for(const i of this.rindexes())t.call(e,this.valList[i],this.keyList[i],this)}get prune(){return s("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(const e of this.rindexes({allowStale:!0}))this.isStale(e)&&(this.delete(this.keyList[e]),t=!0);return t}dump(){const t=[];for(const e of this.indexes()){const i=this.keyList[e],r={value:this.valList[e]};this.ttls&&(r.ttl=this.ttls[e]),this.sizes&&(r.size=this.sizes[e]),t.unshift([i,r])}return t}load(t){this.clear();for(const[e,i]of t)this.set(e,i.value,i)}dispose(t,e,i){}set(t,e,{ttl:i=this.ttl,noDisposeOnSet:r=this.noDisposeOnSet,size:n=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:o=this.noUpdateTTL}={}){n=this.requireSize(t,e,n,s);let a=0===this.size?void 0:this.keyMap.get(t);if(void 0===a)a=this.newIndex(),this.keyList[a]=t,this.valList[a]=e,this.keyMap.set(t,a),this.next[this.tail]=a,this.prev[a]=this.tail,this.tail=a,this.size++,this.addItemSize(a,e,t,n),o=!1;else{const i=this.valList[a];e!==i&&(this.isBackgroundFetch(i)?i.__abortController.abort():r||(this.dispose(i,t,"set"),this.disposeAfter&&this.disposed.push([i,t,"set"])),this.removeItemSize(a),this.valList[a]=e,this.addItemSize(a,e,t,n)),this.moveToTail(a)}if(0===i||0!==this.ttl||this.ttls||this.initializeTTLTracking(),o||this.setItemTTL(a,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const e=this.head,i=this.keyList[e],r=this.valList[e];return this.isBackgroundFetch(r)?r.__abortController.abort():(this.dispose(r,i,"evict"),this.disposeAfter&&this.disposed.push([r,i,"evict"])),this.removeItemSize(e),t&&(this.keyList[e]=null,this.valList[e]=null,this.free.push(e)),this.head=this.next[e],this.keyMap.delete(i),this.size--,e}has(t,{updateAgeOnHas:e=this.updateAgeOnHas}={}){const i=this.keyMap.get(t);return void 0!==i&&!this.isStale(i)&&(e&&this.updateItemAge(i),!0)}peek(t,{allowStale:e=this.allowStale}={}){const i=this.keyMap.get(t);if(void 0!==i&&(e||!this.isStale(i)))return this.valList[i]}backgroundFetch(t,e,r){const n=void 0===e?void 0:this.valList[e];if(this.isBackgroundFetch(n))return n;const s=new i,o={signal:s.signal,options:r},a=Promise.resolve(this.fetchMethod(t,n,o)).then((e=>(s.signal.aborted||this.set(t,e,o.options),e)));return a.__abortController=s,a.__staleWhileFetching=n,void 0===e?(this.set(t,a,o.options),e=this.keyMap.get(t)):this.valList[e]=a,a}isBackgroundFetch(t){return t&&"object"==typeof t&&"function"==typeof t.then&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")}async fetch(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,ttl:r=this.ttl,noDisposeOnSet:n=this.noDisposeOnSet,size:s=0,sizeCalculation:o=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL}={}){if(!this.fetchMethod)return this.get(t,{allowStale:e,updateAgeOnGet:i});const u={allowStale:e,updateAgeOnGet:i,ttl:r,noDisposeOnSet:n,size:s,sizeCalculation:o,noUpdateTTL:a};let c=this.keyMap.get(t);if(void 0===c)return this.backgroundFetch(t,c,u);{const r=this.valList[c];if(this.isBackgroundFetch(r))return e&&void 0!==r.__staleWhileFetching?r.__staleWhileFetching:r;if(!this.isStale(c))return this.moveToTail(c),i&&this.updateItemAge(c),r;const n=this.backgroundFetch(t,c,u);return e&&void 0!==n.__staleWhileFetching?n.__staleWhileFetching:n}}get(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet}={}){const r=this.keyMap.get(t);if(void 0!==r){const n=this.valList[r],s=this.isBackgroundFetch(n);if(this.isStale(r))return s?e?n.__staleWhileFetching:void 0:(this.delete(t),e?n:void 0);if(s)return;return this.moveToTail(r),i&&this.updateItemAge(r),n}}connect(t,e){this.prev[e]=t,this.next[t]=e}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return s("del","delete"),this.delete}delete(t){let e=!1;if(0!==this.size){const i=this.keyMap.get(t);if(void 0!==i)if(e=!0,1===this.size)this.clear();else{this.removeItemSize(i);const e=this.valList[i];this.isBackgroundFetch(e)?e.__abortController.abort():(this.dispose(e,t,"delete"),this.disposeAfter&&this.disposed.push([e,t,"delete"])),this.keyMap.delete(t),this.keyList[i]=null,this.valList[i]=null,i===this.tail?this.tail=this.prev[i]:i===this.head?this.head=this.next[i]:(this.next[this.prev[i]]=this.next[i],this.prev[this.next[i]]=this.prev[i]),this.size--,this.free.push(i)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return e}clear(){for(const t of this.rindexes({allowStale:!0})){const e=this.valList[t];if(this.isBackgroundFetch(e))e.__abortController.abort();else{const i=this.keyList[t];this.dispose(e,i,"delete"),this.disposeAfter&&this.disposed.push([e,i,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return s("reset","clear"),this.clear}get length(){return((t,e)=>{const i="LRU_CACHE_PROPERTY_length";if(a(i)){const{prototype:e}=p,{get:r}=Object.getOwnPropertyDescriptor(e,t);u(i,"length property","cache.size",r)}})("length"),this.size}}t.exports=p}},e={},function i(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,i),s.exports}(590);var t,e}));